{"version":3,"sources":["store.js","productList.js","productDetail.js","cart.js","App.js","index.js"],"names":["initialState","products","cart","store","createStore","state","arguments","length","undefined","action","type","data","console","log","push","initialList","ProductList","inputValue","list","filterList","searchTerm","updatedList","filter","item","title","toLowerCase","category","search","target","value","_this","setState","_this2","this","source","axios","CancelToken","subscribe","forceUpdate","getState","get","token","then","response","dispatch","cancel","map","product","react_default","a","createElement","key","id","className","react_router_dom","to","src","img","alt","index","placeholder","onChange","aria-hidden","renderedList","Component","ProductDetail","params","props","match","productId","productData","description","price","rating","Math","round","onClick","addProductToCart","prodData","react_router","details","Cart","removeFromCart","i","App","path","exact","component","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9081fadf.chunk.js","sourcesContent":["import {createStore} from \"redux\";\n\n// const initialState = [{products: []}, {cart: []}];\n//\n// const initialState = [];\n\nconst initialState = [\n    {\n        products: [],\n        cart: []\n    }\n];\n\nfunction dataReducer(state = initialState, action){\n    switch (action.type) {\n        case \"ADD_PRODUCT\":\n            state[0].products = action.data;\n            console.log(action.data);\n            console.log(state);\n            return state;\n\n        case \"ADD_CART\":\n            state[0].cart.push(action.data);\n            console.log(action.data);\n            console.log(state);\n            return state;\n\n        // case \"DELETE_CART\":\n        //\n        default:\n            return state;\n    }\n}\n\n// function addProduct(data){\n//     return {\n//         data: data,\n//         type: \"ADD_PRODUCT\"\n//     }\n// }\n\nconst store = createStore(dataReducer);\n\nexport default store;\n","import React, {Component} from 'react';\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport './productList.css';\nimport store from \"./store\";\n\nlet initialList = [];\n\nclass ProductList extends Component {\n    state = {\n        inputValue: '',\n        list: []\n    };\n\n    //store.getState()[0].products\n\n    componentDidMount() {\n        const CancelToken = axios.CancelToken;\n        const source = CancelToken.source();\n\n        store.subscribe(() => this.forceUpdate());\n        if(store.getState()[0].products.length === 0) {\n            axios.get('https://my-json-server.typicode.com/tdmichaelis/json-api/products',\n                {\n                    CancelToken: source.token\n                })\n                .then(response => {\n                    // handle success\n                    store.dispatch({type: \"ADD_PRODUCT\", data: response.data});\n                });\n            source.cancel();\n            console.log('canceled');\n\n        }\n    }\n\n    renderedList(){\n        initialList = store.getState()[0].products;\n\n        if(this.state.list.length === 0 && this.state.inputValue === \"\"){\n\n            this.state.list = initialList;\n\n            return this.state.list.map(product => {\n                return (\n                    <div key={product.id} id={product.id} className=\"product\">\n                        <Link to={'/details/' + product.id}>\n                            <img className=\"img\" src={product.img} alt={product.title}/>\n                        </Link>\n                    </div>\n                )\n            });\n        }\n        else{\n            return this.state.list.map((product, index) => {\n                return (\n                    <div key={index} id={product.id} className=\"product\">\n                        <Link to={'/details/' + product.id}>\n                            <img className=\"img\" src={product.img} alt={product.title}/>\n                        </Link>\n                    </div>\n                )\n            });\n        }\n\n    }\n\n    render() {\n        if(this.state.list.length === 0 && this.state.inputValue !== \"\"){\n            return (\n                <div className=\"pageWrapper\">\n                    <div className=\"ui icon input searchBar\">\n                        <input type='text' placeholder='Search items...' value={this.state.inputValue}\n                               onChange={this.filterList}/>\n                        <i aria-hidden=\"true\" className=\"search icon\"/>\n                    </div>\n                    <div className=\"noResults\">No results found for \"{this.state.inputValue}\".</div>\n                </div>\n            )\n        }\n        else {\n            return (\n                <div className=\"pageWrapper\">\n                    <div className=\"ui icon input searchBar\">\n                        <input type='text' placeholder='Search items...' value={this.state.inputValue}\n                               onChange={this.filterList}/>\n                        <i aria-hidden=\"true\" className=\"search icon\"/>\n                    </div>\n                    <div className=\"productList\">{this.renderedList()}</div>\n                </div>\n            )\n        }\n    }\n\n    filterList = (searchTerm) =>{\n        let updatedList;\n        updatedList = initialList.filter((item) => {\n            let tempSearch = item.title.toLowerCase() + \" \" + item.category.toLowerCase();\n            return tempSearch.search((searchTerm.target.value).toLowerCase()) !== -1;\n        });\n        this.setState({\n            inputValue: searchTerm.target.value,\n            list: updatedList\n        })\n    }\n}\n\nexport default ProductList;\n","import React, {Component} from 'react';\nimport './productDetail.css';\nimport store from './store';\nimport { Redirect } from 'react-router-dom'\n\nclass ProductDetail extends Component {\n    details() {\n        const { match: { params } } = this.props;\n        console.log('params: ', params);\n        let productId = params.id;\n        console.log('product id', productId);\n        let productData = store.getState()[0].products[productId -1];\n\n        return (\n            <div className=\"page\">\n                <div className=\"right\">\n                    <img className=\"productImg\" src={productData.img} alt={productData.title}/>\n                </div>\n                <div className=\"left\">\n                    <p className=\"title\">{productData.title}</p>\n                    <p className=\"description\">{productData.description}</p>\n                    <p>Price: ${productData.price}</p>\n                    <p>Star Rating: {productData.rating} / 5 </p>\n                    <p>Percentage Rating: {Math.round(100* productData.rating / 5)}%</p>\n                    <button className=\"cartButton\" onClick={this.addProductToCart(productData)}>Add To Cart</button>\n                </div>\n            </div>\n        );\n    }\n\n    addProductToCart(prodData){\n        return(\n            () => {\n                console.log(\"add product \" + prodData.title + \" to cart\");\n                store.dispatch({type: 'ADD_CART', data: prodData})\n\n            }\n        )\n    }\n\n    render(){\n        if(store.getState()[0].products.length === 0){\n            return <Redirect to='/'/>\n        }\n        else{\n            return this.details()\n        }\n    }\n}\n\nexport default ProductDetail;\n","import React, {Component} from 'react';\nimport './cart.css';\nimport store from \"./store\";\nimport {Link, Redirect} from \"react-router-dom\";\n\n\nclass Cart extends Component {\n\n    render(){\n        if(store.getState()[0].products.length === 0){\n            return <Redirect to='/'/>\n        }\n        else {\n            return store.getState()[0].cart.map((product, index) => {\n                return (\n                    <div className=\"cartItem\" key={index}>\n                        <div className=\"itemPic\">\n                            <img className=\"img\" src={product.img} alt={product.title}/>\n                        </div>\n                        <div className=\"itemInfo\">\n                            <div>{product.title}</div>\n                            <div>{product.id}</div>\n                            <div>${product.price}</div>\n                            <div className='buttons'>\n                                <Link to={'/details/' + product.id}>\n                                    <button className=\"productPage\">Product Page</button>\n                                </Link>\n                                <button className=\"remove\" onClick={this.removeFromCart(product, index)}>Remove from Cart</button>\n                            </div>\n                        </div>\n                    </div>\n                )\n            });\n        }\n    }\n\n    removeFromCart(product, i){\n        return () => {\n            console.log('delete product ' + product.id + ' at index ' + i);\n        }\n    }\n}\n\nexport default Cart;\n","import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport ProductList from './productList';\nimport ProductDetail from \"./productDetail\";\nimport Cart from './cart.js'\n\nfunction App() {\n  return (\n      <div className=\"\">\n          <Router>\n            <div className=\"ui inverted menu\">\n              <Link to=\"/\" className=\"item\">Products</Link>\n              <Link to=\"/cart/\" className=\"item\">Cart</Link>\n            </div>\n\n            <Route path=\"/\" exact component={ProductList} />\n            <Route path=\"/details/:id\" component={ProductDetail} />\n            <Route path=\"/cart/\" component={Cart} />\n          </Router>\n      </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}